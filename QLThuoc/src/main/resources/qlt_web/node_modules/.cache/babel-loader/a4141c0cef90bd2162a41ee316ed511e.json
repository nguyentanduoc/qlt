{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\src\\\\views\\\\SettingNav\\\\SettingNav.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Table, Card, Col, CardHeader, CardBody, Form, FormGroup, Label, CustomInput, CardFooter, Button } from 'reactstrap';\nimport { getAllNav, getAllSubNav, setRoleForNav, setNav, updateNav } from '../../actions/NavAction';\nimport { getAllRole } from '../../actions/roleAction';\nimport { resetAlert } from '../../actions/alertAction';\nimport AlertCommon from '../Common/AlertCommon';\nexport var SettingNav =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SettingNav, _Component);\n\n  function SettingNav(props) {\n    var _this;\n\n    _classCallCheck(this, SettingNav);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SettingNav).call(this, props));\n    _this.state = {\n      name: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SettingNav, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onGetAllNav();\n      this.props.onGetAllRole();\n    }\n  }, {\n    key: \"handleClick\",\n    value: function () {\n      var _handleClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(title) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.props.onGetAllSubNav(title.id);\n                this.props.onSetRoleForNav(title.roles);\n                this.setState({\n                  name: title.name\n                });\n                this.props.onSetNav(title);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleClick(_x) {\n        return _handleClick.apply(this, arguments);\n      }\n\n      return handleClick;\n    }()\n  }, {\n    key: \"handleClickSub\",\n    value: function handleClickSub(sub) {\n      this.props.onSetRoleForNav(sub.roles);\n      this.setState({\n        name: sub.name\n      });\n      this.props.onSetNav(sub);\n    }\n  }, {\n    key: \"changeHandler\",\n    value: function changeHandler(event) {\n      var roleId = event.target.name;\n\n      if (event.target.type === 'checkbox') {\n        var roleNav = this.props.navReducer.roleNav;\n\n        if (!event.target.checked) {\n          roleNav = this.props.navReducer.roleNav.filter(function (role) {\n            return role.id !== parseInt(roleId);\n          });\n        } else {\n          var addRoles = this.props.roleReducer.roles.filter(function (role) {\n            return role.id === parseInt(roleId);\n          });\n          roleNav.push(addRoles[0]);\n        }\n\n        this.props.onSetRoleForNav(roleNav);\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(event) {\n        var nav;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                event.preventDefault();\n                nav = this.props.navReducer.nav;\n                nav.roles = this.props.navReducer.roleNav;\n                _context2.next = 5;\n                return this.props.onUpdateNav(nav);\n\n              case 5:\n                setTimeout(function () {\n                  this.props.onResetAlert();\n                }.bind(this), 1500);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleSubmit(_x2) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var checked = function checked(roleId) {\n        var roles = _this2.props.navReducer.roleNav.filter(function (role) {\n          return role.id === roleId;\n        });\n\n        return roles[0] ? true : false;\n      };\n\n      console.log(this.props.navReducer.navTitles);\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Danh M\\u1EE5c Ti\\xEAu \\u0110\\u1EC1\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        className: \"table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.props.navReducer.navTitles.map(function (title) {\n        return React.createElement(\"tr\", {\n          className: \"column-select\",\n          key: title.id,\n          onClick: _this2.handleClick.bind(_this2, title),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, title.name));\n      })))))), React.createElement(Col, {\n        lg: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), \"Danh s\\xE1ch \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Danh M\\u1EE5c Con\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        className: \"table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"T\\xEAn Danh M\\u1EE5c\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.props.navReducer.subNav.map(function (sub) {\n        return React.createElement(\"tr\", {\n          className: \"column-select\",\n          key: sub.id,\n          onClick: _this2.handleClickSub.bind(_this2, sub),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, sub.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, sub.url));\n      })))))), React.createElement(Col, {\n        lg: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-users-cog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), \"Chi ti\\u1EBFt \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Quy\\u1EC1n\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(AlertCommon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"T\\xEAn:\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"form-control-static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.name))), React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Quy\\u1EC1n:\")), React.createElement(Col, {\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.props.roleReducer.roles.map(function (role) {\n        return React.createElement(CustomInput, {\n          key: role.id,\n          type: \"checkbox\",\n          id: role.id,\n          label: role.detail,\n          name: role.id,\n          checked: checked(role.id),\n          onChange: _this2.changeHandler.bind(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        });\n      })))), React.createElement(CardFooter, {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), \" L\\u01B0u\")))))));\n    }\n  }]);\n\n  return SettingNav;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    navReducer: state.navReducer,\n    roleReducer: state.role\n  };\n};\n\nvar mapDispathToProps = function mapDispathToProps(dispatch, props) {\n  return {\n    onGetAllNav: function () {\n      var _onGetAllNav = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return dispatch(getAllNav());\n\n              case 2:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onGetAllNav() {\n        return _onGetAllNav.apply(this, arguments);\n      }\n\n      return onGetAllNav;\n    }(),\n    onGetAllSubNav: function () {\n      var _onGetAllSubNav = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return dispatch(getAllSubNav(id));\n\n              case 2:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function onGetAllSubNav(_x3) {\n        return _onGetAllSubNav.apply(this, arguments);\n      }\n\n      return onGetAllSubNav;\n    }(),\n    onGetAllRole: function () {\n      var _onGetAllRole = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return dispatch(getAllRole());\n\n              case 2:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function onGetAllRole() {\n        return _onGetAllRole.apply(this, arguments);\n      }\n\n      return onGetAllRole;\n    }(),\n    onSetRoleForNav: function onSetRoleForNav(roles) {\n      return dispatch(setRoleForNav(roles));\n    },\n    onSetNav: function onSetNav(nav) {\n      return dispatch(setNav(nav));\n    },\n    onUpdateNav: function () {\n      var _onUpdateNav = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(nav) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return dispatch(updateNav(nav));\n\n              case 2:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function onUpdateNav(_x4) {\n        return _onUpdateNav.apply(this, arguments);\n      }\n\n      return onUpdateNav;\n    }(),\n    onResetAlert: function onResetAlert() {\n      return dispatch(resetAlert());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(SettingNav);","map":{"version":3,"sources":["D:\\LV\\qlt\\qlt_web\\src\\views\\SettingNav\\SettingNav.js"],"names":["React","Component","connect","Row","Table","Card","Col","CardHeader","CardBody","Form","FormGroup","Label","CustomInput","CardFooter","Button","getAllNav","getAllSubNav","setRoleForNav","setNav","updateNav","getAllRole","resetAlert","AlertCommon","SettingNav","props","state","name","onGetAllNav","onGetAllRole","title","onGetAllSubNav","id","onSetRoleForNav","roles","setState","onSetNav","sub","event","roleId","target","type","roleNav","navReducer","checked","filter","role","parseInt","addRoles","roleReducer","push","preventDefault","nav","onUpdateNav","setTimeout","onResetAlert","bind","console","log","navTitles","map","handleClick","subNav","handleClickSub","url","handleSubmit","detail","changeHandler","mapStateToProps","mapDispathToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Row, Table, Card, Col, CardHeader, CardBody, Form, FormGroup, Label, CustomInput, CardFooter, Button } from 'reactstrap';\r\nimport { getAllNav, getAllSubNav, setRoleForNav, setNav, updateNav } from '../../actions/NavAction';\r\nimport { getAllRole } from '../../actions/roleAction';\r\nimport { resetAlert } from '../../actions/alertAction';\r\nimport AlertCommon from '../Common/AlertCommon';\r\n\r\nexport class SettingNav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\"\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.onGetAllNav();\r\n    this.props.onGetAllRole();\r\n  }\r\n  async handleClick(title) {\r\n    this.props.onGetAllSubNav(title.id);\r\n    this.props.onSetRoleForNav(title.roles);\r\n    this.setState({ name: title.name });\r\n    this.props.onSetNav(title);\r\n  }\r\n  handleClickSub(sub) {\r\n    this.props.onSetRoleForNav(sub.roles);\r\n    this.setState({ name: sub.name });\r\n    this.props.onSetNav(sub);\r\n  }\r\n  changeHandler(event) {\r\n    const roleId = event.target.name;\r\n    if (event.target.type === 'checkbox') {\r\n      let roleNav = this.props.navReducer.roleNav;\r\n      if (!event.target.checked) {\r\n        roleNav = this.props.navReducer.roleNav.filter(role => {\r\n          return role.id !== parseInt(roleId)\r\n        });\r\n      }\r\n      else {\r\n        var addRoles = this.props.roleReducer.roles.filter(role => {\r\n          return role.id === parseInt(roleId)\r\n        });\r\n        roleNav.push(addRoles[0]);\r\n      }\r\n      this.props.onSetRoleForNav(roleNav);\r\n    }\r\n  }\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    let nav = this.props.navReducer.nav;\r\n    nav.roles = this.props.navReducer.roleNav;\r\n    await this.props.onUpdateNav(nav);\r\n    setTimeout(\r\n      function () {\r\n        this.props.onResetAlert();\r\n      }\r\n        .bind(this),\r\n      1500\r\n    );\r\n  }\r\n  \r\n  render() {\r\n    const checked = roleId => {\r\n        let roles = this.props.navReducer.roleNav.filter(role => {\r\n          return role.id === roleId\r\n        });\r\n        return roles[0] ? true : false;\r\n      }\r\n      console.log(this.props.navReducer.navTitles);\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col lg=\"3\">\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fas fa-list\"></i><strong>Danh Mục Tiêu Đề</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table responsive className=\"table-hover\">\r\n                  <tbody>\r\n                    {this.props.navReducer.navTitles.map((title) => {\r\n                      return (\r\n                        <tr className=\"column-select\" key={title.id} onClick={this.handleClick.bind(this, title)}>\r\n                          <td>{title.name}</td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n          <Col lg=\"6\">\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fas fa-bars\"></i>Danh sách <strong>Danh Mục Con</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table responsive className=\"table-hover\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Tên Danh Mục</th>\r\n                      <th>Địa chỉ</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.props.navReducer.subNav.map((sub) => {\r\n                      return (\r\n                        <tr className=\"column-select\" key={sub.id} onClick={this.handleClickSub.bind(this, sub)}>\r\n                          <td>{sub.name}</td>\r\n                          <td>{sub.url}</td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n          <Col lg=\"3\">\r\n            <Form onSubmit={this.handleSubmit.bind(this)}>\r\n              <Card>\r\n                <CardHeader>\r\n                  <i className=\"fas fa-users-cog\"></i>Chi tiết <strong>Quyền</strong>\r\n                </CardHeader>\r\n                <CardBody>\r\n                  <AlertCommon />\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label>Tên:</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <p className=\"form-control-static\"><strong>{this.state.name}</strong></p>\r\n                    </Col>\r\n                    <Col md=\"3\"><Label>Quyền:</Label></Col>\r\n                    <Col md=\"9\">\r\n                      {this.props.roleReducer.roles.map(role => (\r\n                        <CustomInput\r\n                          key={role.id}\r\n                          type=\"checkbox\"\r\n                          id={role.id}\r\n                          label={role.detail}\r\n                          name={role.id}\r\n                          checked={checked(role.id)}\r\n                          onChange={this.changeHandler.bind(this)} />\r\n                      ))}\r\n                    </Col>\r\n                  </FormGroup>\r\n                </CardBody>\r\n                <CardFooter className=\"text-right\">\r\n                  <Button type=\"submit\" size=\"sm\" color=\"success\"><i className=\"fa fa-dot-circle-o\"></i> Lưu</Button>\r\n                </CardFooter>\r\n              </Card>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  navReducer: state.navReducer,\r\n  roleReducer: state.role\r\n})\r\n\r\nconst mapDispathToProps = (dispatch, props) => {\r\n  return {\r\n    onGetAllNav: async () => {\r\n      return await dispatch(getAllNav());\r\n    },\r\n    onGetAllSubNav: async (id) => {\r\n      return await dispatch(getAllSubNav(id));\r\n    },\r\n    onGetAllRole: async () => {\r\n      return await dispatch(getAllRole());\r\n    },\r\n    onSetRoleForNav: (roles) => {\r\n      return dispatch(setRoleForNav(roles));\r\n    },\r\n    onSetNav: (nav) => {\r\n      return dispatch(setNav(nav));\r\n    },\r\n    onUpdateNav: async (nav) => {\r\n      return await dispatch(updateNav(nav));\r\n    },\r\n    onResetAlert: () => {\r\n      return dispatch(resetAlert());\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(SettingNav)\r\n"]},"metadata":{},"sourceType":"module"}