{"ast":null,"code":"import _defineProperty from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\src\\\\views\\\\Shop\\\\FormShop.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport DatePicker from \"react-datepicker\";\nimport { save, resetFlgDetail, resetSaveSuccess } from '../../actions/shopAction';\nimport 'moment-timezone';\nimport moment from 'moment';\nimport * as jsPDF from 'jspdf';\nimport { Col, Card, CardHeader, CardBody, CardFooter, Form, FormGroup, Input, Label, CustomInput, Button } from 'reactstrap';\nexport var FormShop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormShop, _Component);\n\n  function FormShop(props) {\n    var _this;\n\n    _classCallCheck(this, FormShop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormShop).call(this, props));\n\n    _this.renderFPD = function () {\n      var view = [];\n      var account = _this.props.shopReducer.account;\n      view.push(\"Ten Tai Khoan: \" + account.username);\n      view.push(\"Email: \" + account.email);\n      view.push(\"Mat Khau: \" + _this.props.shopReducer.password);\n      return view;\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _context.next = 3;\n                return _this.props.onSave(_this.state);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleReset = function (e) {\n      e.preventDefault();\n\n      _this.resetForm();\n    };\n\n    _this.resetForm = function () {\n      _this.setState({\n        id: '',\n        nameShop: '',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        establishAt: new Date(),\n        isEnabled: true,\n        fullName: ''\n      });\n    };\n\n    _this.changeHandler = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      if (e.target.type === 'checkbox' & name === 'isEnabled') {\n        _this.setState({\n          isEnabled: !_this.state.isEnabled\n        });\n      } else {\n        _this.setState(_defineProperty({}, name, value));\n      }\n    };\n\n    _this.handleChangeDate = function (establishAt) {\n      _this.setState({\n        establishAt: establishAt\n      });\n    };\n\n    _this.setShop =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var shop;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              shop = _this.props.shopReducer.shop;\n              _context2.next = 3;\n              return _this.setState({\n                id: shop.id,\n                nameShop: shop.nameShop,\n                createdAt: shop.createdAt,\n                updatedAt: shop.updatedAt,\n                establishAt: shop.establishAt,\n                isEnabled: shop.isEnabled,\n                fullName: shop.employee.nameEmployee\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this.componentDidUpdate = function () {\n      if (_this.props.shopReducer.flgDetail) {\n        _this.setShop();\n\n        _this.props.onResetFlgDetail();\n      }\n\n      if (_this.props.shopReducer.flgSaveSucess) {\n        var jsPDFDoc = new jsPDF();\n        jsPDFDoc.text(_this.renderFPD(), 10, 10);\n        jsPDFDoc.save(_this.props.shopReducer.account.username + '.pdf');\n\n        _this.resetForm();\n\n        _this.props.onResetSaveSuccess();\n      }\n    };\n\n    _this.toggleFormShopInfo = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        isOpenShopInfo: !_this.state.isOpenShopInfo\n      });\n    };\n\n    _this.state = {\n      id: '',\n      nameShop: '',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      establishAt: new Date(),\n      isEnabled: true,\n      fullName: ''\n    };\n    return _this;\n  }\n\n  _createClass(FormShop, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Form, {\n        onSubmit: this.handleSubmit.bind(this),\n        onReset: this.handleReset.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-store\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), \"Chi ti\\u1EBFt \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"C\\u1EEDa h\\xE0ng\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: 'hidden',\n        name: \"id\",\n        id: \"id\",\n        value: this.state.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"nameShop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"T\\xEAn C\\u1EEDa H\\xE0ng\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"nameShop\",\n        name: \"nameShop\",\n        placeholder: \"T\\xEAn C\\u1EEDa H\\xE0ng\",\n        required: true,\n        onChange: this.changeHandler.bind(this),\n        value: this.state.nameShop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"nameShop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"H\\u1ECD v\\xE0 T\\xEAn\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"fullName\",\n        name: \"fullName\",\n        placeholder: \"H\\u1ECD v\\xE0 T\\xEAn\",\n        required: true,\n        onChange: this.changeHandler.bind(this),\n        value: this.state.fullName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"establishAt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Ng\\xE0y Th\\xE0nh L\\u1EADp\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        className: \"form-control\",\n        selected: new Date(this.state.establishAt),\n        dateFormat: \"dd/MM/yyyy\",\n        onChange: this.handleChangeDate.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"createAt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Ng\\xE0y T\\u1EA1o\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"createAt\",\n        name: \"createAt\",\n        placeholder: \"Ng\\xE0y T\\u1EA1o\",\n        onChange: this.changeHandler.bind(this),\n        value: moment(this.state.createdAt).format('DD/MM/YYYY'),\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"updateAt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Ng\\xE0y C\\u1EADp Nh\\u1EADt\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"updateAt\",\n        name: \"updateAt\",\n        placeholder: \"Ng\\xE0y C\\u1EADp Nh\\u1EADt\",\n        disabled: true,\n        onChange: this.changeHandler.bind(this),\n        value: moment(this.state.updatedAt).format('DD/MM/YYYY'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"isEnabled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Ho\\u1EA1t \\u0111\\u1ED9ng\")), React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(CustomInput, {\n        type: \"switch\",\n        id: \"isEnabled\",\n        label: \"Ho\\u1EA1t \\u0111\\u1ED9ng\",\n        name: \"isEnabled\",\n        checked: this.state.isEnabled,\n        onChange: this.changeHandler.bind(this),\n        value: this.state.isEnabled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })))), React.createElement(CardFooter, {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), \" L\\u01B0u\"), \" \", ' ', React.createElement(Button, {\n        type: \"reset\",\n        size: \"sm\",\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), \" L\\xE0m R\\u1ED7ng\"))));\n    }\n  }]);\n\n  return FormShop;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    shopReducer: state.shopReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onSave: function onSave(shop) {\n      return dispatch(save(shop));\n    },\n    onResetFlgDetail: function onResetFlgDetail() {\n      return dispatch(resetFlgDetail());\n    },\n    onResetSaveSuccess: function onResetSaveSuccess() {\n      return dispatch(resetSaveSuccess());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormShop);","map":{"version":3,"sources":["D:\\LV\\qlt\\qlt_web\\src\\views\\Shop\\FormShop.js"],"names":["React","Component","connect","DatePicker","save","resetFlgDetail","resetSaveSuccess","moment","jsPDF","Col","Card","CardHeader","CardBody","CardFooter","Form","FormGroup","Input","Label","CustomInput","Button","FormShop","props","renderFPD","view","account","shopReducer","push","username","email","password","handleSubmit","e","preventDefault","onSave","state","handleReset","resetForm","setState","id","nameShop","createdAt","Date","updatedAt","establishAt","isEnabled","fullName","changeHandler","name","target","value","type","handleChangeDate","setShop","shop","employee","nameEmployee","componentDidUpdate","flgDetail","onResetFlgDetail","flgSaveSucess","jsPDFDoc","text","onResetSaveSuccess","toggleFormShopInfo","isOpenShopInfo","bind","format","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\"\r\nimport { save, resetFlgDetail, resetSaveSuccess } from '../../actions/shopAction'\r\nimport 'moment-timezone'\r\nimport moment from 'moment'\r\nimport * as jsPDF from 'jspdf'\r\nimport {\r\n  Col,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  CustomInput,\r\n  Button,\r\n  } from 'reactstrap'\r\n\r\nexport class FormShop extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id:'',\r\n      nameShop:'',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      establishAt: new Date(),\r\n      isEnabled: true,\r\n      fullName:''\r\n    }\r\n  }\r\n  renderFPD = () => {\r\n    let view = [];\r\n    let account = this.props.shopReducer.account;\r\n    view.push(\"Ten Tai Khoan: \" + account.username);\r\n    view.push(\"Email: \" + account.email);\r\n    view.push(\"Mat Khau: \" + this.props.shopReducer.password);\r\n    return view;\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await this.props.onSave(this.state);\r\n  }\r\n  handleReset = (e) => {\r\n    e.preventDefault();\r\n    this.resetForm();\r\n  }\r\n  resetForm = () => {\r\n    this.setState({\r\n      id:'',\r\n      nameShop:'',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      establishAt: new Date(),\r\n      isEnabled: true,\r\n      fullName:''\r\n    })\r\n  }\r\n  changeHandler = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    if (e.target.type === 'checkbox' & name === 'isEnabled') {\r\n      this.setState({\r\n        isEnabled: !this.state.isEnabled\r\n      });\r\n    } else {\r\n      this.setState({\r\n        [name]: value\r\n      });\r\n    }\r\n  }\r\n  handleChangeDate = establishAt => {\r\n    this.setState({ establishAt: establishAt});\r\n  }\r\n  setShop = async () => {\r\n    let shop = this.props.shopReducer.shop;\r\n    await this.setState({\r\n      id:shop.id,\r\n      nameShop:shop.nameShop,\r\n      createdAt:shop.createdAt,\r\n      updatedAt:shop.updatedAt,\r\n      establishAt:shop.establishAt,\r\n      isEnabled: shop.isEnabled,\r\n      fullName: shop.employee.nameEmployee\r\n    });\r\n  }\r\n  componentDidUpdate = () => {\r\n    if(this.props.shopReducer.flgDetail) {\r\n      this.setShop();\r\n      this.props.onResetFlgDetail();\r\n    }\r\n    if(this.props.shopReducer.flgSaveSucess) {\r\n      let jsPDFDoc = new jsPDF();\r\n      jsPDFDoc.text(this.renderFPD(),10,10);\r\n      jsPDFDoc.save(this.props.shopReducer.account.username+'.pdf');\r\n      this.resetForm();\r\n      this.props.onResetSaveSuccess();\r\n    }\r\n  }\r\n  toggleFormShopInfo = (e) => {\r\n    e.preventDefault();\r\n    this.setState({isOpenShopInfo:!this.state.isOpenShopInfo})\r\n  }\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.handleSubmit.bind(this)} onReset={this.handleReset.bind(this)}>\r\n        <Card>\r\n            <CardHeader>\r\n              <i className=\"fas fa-store\"></i>Chi tiết <strong>Cửa hàng</strong>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <Input type={'hidden'} name='id' id='id' value={this.state.id}/>\r\n              <FormGroup row>\r\n                <Col md=\"4\"><Label htmlFor=\"nameShop\">Tên Cửa Hàng</Label></Col>\r\n                <Col md=\"8\">\r\n                  <Input \r\n                    type=\"text\" \r\n                    id=\"nameShop\" \r\n                    name=\"nameShop\" \r\n                    placeholder=\"Tên Cửa Hàng\" \r\n                    required \r\n                    onChange={this.changeHandler.bind(this)}\r\n                    value={this.state.nameShop}/>\r\n                  </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Col md=\"4\"><Label htmlFor=\"nameShop\">Họ và Tên</Label></Col>\r\n                <Col md=\"8\">\r\n                  <Input \r\n                    type=\"text\" \r\n                    id=\"fullName\" \r\n                    name=\"fullName\" \r\n                    placeholder=\"Họ và Tên\" \r\n                    required \r\n                    onChange={this.changeHandler.bind(this)}\r\n                    value={this.state.fullName}/>\r\n                  </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                  <Col md=\"4\"><Label htmlFor=\"establishAt\">Ngày Thành Lập</Label></Col>\r\n                  <Col md=\"8\">\r\n                    <DatePicker\r\n                      className=\"form-control\"\r\n                      selected={new Date(this.state.establishAt)}\r\n                      dateFormat=\"dd/MM/yyyy\"\r\n                      onChange={this.handleChangeDate.bind(this)}/>\r\n                  </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Col md='4'><Label htmlFor=\"createAt\">Ngày Tạo</Label></Col>\r\n                <Col md='8'>\r\n                  <Input \r\n                      type=\"text\" \r\n                      id=\"createAt\" \r\n                      name=\"createAt\" \r\n                      placeholder=\"Ngày Tạo\" \r\n                      onChange={this.changeHandler.bind(this)}\r\n                      value={moment(this.state.createdAt).format('DD/MM/YYYY')}\r\n                      disabled/>\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Col md='4'><Label htmlFor=\"updateAt\">Ngày Cập Nhật</Label></Col>\r\n                <Col md='8'>\r\n                  <Input \r\n                    type=\"text\" \r\n                    id=\"updateAt\" \r\n                    name=\"updateAt\" \r\n                    placeholder=\"Ngày Cập Nhật\" \r\n                    disabled\r\n                    onChange={this.changeHandler.bind(this)}\r\n                    value={moment(this.state.updatedAt).format('DD/MM/YYYY')}/>\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n              <Col md='4'><Label htmlFor=\"isEnabled\">Hoạt động</Label></Col>\r\n              <Col md='8'>\r\n                <CustomInput\r\n                  type=\"switch\"\r\n                  id='isEnabled'\r\n                  label='Hoạt động'\r\n                  name='isEnabled'\r\n                  checked={this.state.isEnabled}\r\n                  onChange={this.changeHandler.bind(this)}\r\n                  value = {this.state.isEnabled} />\r\n                </Col>\r\n              </FormGroup>\r\n            </CardBody>\r\n            <CardFooter className='text-right'>\r\n            <Button type=\"submit\" size=\"sm\" color=\"primary\"><i className=\"fa fa-dot-circle-o\"></i> Lưu</Button> {' '}\r\n            <Button type=\"reset\" size=\"sm\" color=\"danger\" ><i className=\"fa fa-ban\"></i> Làm Rỗng</Button>\r\n          </CardFooter>\r\n        </Card>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  shopReducer: state.shopReducer\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  onSave: (shop) => {\r\n    return dispatch(save(shop))\r\n  },\r\n  onResetFlgDetail: () => {\r\n    return dispatch(resetFlgDetail());\r\n  },\r\n  onResetSaveSuccess: () => {\r\n    return dispatch(resetSaveSuccess());\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormShop)\r\n"]},"metadata":{},"sourceType":"module"}