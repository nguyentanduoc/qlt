{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\src\\\\containers\\\\DefaultLayout\\\\DefaultLayout.js\";\nimport React, { Component, Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Container } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { logout } from '../../actions/authenAction';\nimport { resetAlert } from '../../actions/alertAction';\nimport _ from 'lodash';\nimport { AppAside, AppBreadcrumb, AppFooter, AppHeader, AppSidebar, AppSidebarFooter, AppSidebarForm, AppSidebarHeader, AppSidebarMinimizer, AppSidebarNav } from '@coreui/react'; // sidebar nav config\n// import {NavConfig} from '../../_nav';\n// routes config\n\nimport routes from '../../routes';\nvar DefaultAside = React.lazy(function () {\n  return import('./DefaultAside');\n});\nvar DefaultFooter = React.lazy(function () {\n  return import('./DefaultFooter');\n});\nvar DefaultHeader = React.lazy(function () {\n  return import('./DefaultHeader');\n});\n\nvar DefaultLayout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DefaultLayout, _Component);\n\n  function DefaultLayout() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DefaultLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DefaultLayout)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.loading = function () {\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn pt-1 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Loading...\");\n    };\n\n    _this.signOut =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _context.next = 3;\n                return _this.props.onLogout();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(DefaultLayout, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (!this.props.authReducer.isLogin) {\n        this.props.history.push('/login');\n        this.props.onResetAlert();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var items = {\n        items: this.props.authReducer.nav\n      };\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(AppHeader, {\n        fixed: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Suspense, {\n        fallback: this.loading(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(DefaultHeader, {\n        onLogout: function onLogout(e) {\n          return _this2.signOut(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"app-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(AppSidebar, {\n        fixed: true,\n        display: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(AppSidebarHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(AppSidebarForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Suspense, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(AppSidebarNav, Object.assign({\n        navConfig: items\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }))), React.createElement(AppSidebarFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(AppSidebarMinimizer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"main\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(AppBreadcrumb, {\n        appRoutes: routes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Suspense, {\n        fallback: this.loading(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, routes.map(function (route, idx) {\n        return route.component && _.intersectionWith(_this2.props.authReducer.authorities, route.roles, _.isEqual) ? React.createElement(Route, {\n          key: idx,\n          path: route.path,\n          exact: route.exact,\n          name: route.name,\n          render: function render(props) {\n            return React.createElement(route.component, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }) : null;\n      }), React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }))))), React.createElement(AppAside, {\n        fixed: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Suspense, {\n        fallback: this.loading(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(DefaultAside, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })))), React.createElement(AppFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Suspense, {\n        fallback: this.loading(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(DefaultFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return DefaultLayout;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authReducer: state.auth\n  };\n};\n\nvar mapDispathToProps = function mapDispathToProps(dispatch) {\n  return {\n    onLogout: function onLogout() {\n      return dispatch(logout());\n    },\n    onResetAlert: function onResetAlert() {\n      return dispatch(resetAlert());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(DefaultLayout);","map":{"version":3,"sources":["D:\\LV\\qlt\\qlt_web\\src\\containers\\DefaultLayout\\DefaultLayout.js"],"names":["React","Component","Suspense","Redirect","Route","Switch","Container","connect","logout","resetAlert","_","AppAside","AppBreadcrumb","AppFooter","AppHeader","AppSidebar","AppSidebarFooter","AppSidebarForm","AppSidebarHeader","AppSidebarMinimizer","AppSidebarNav","routes","DefaultAside","lazy","DefaultFooter","DefaultHeader","DefaultLayout","loading","signOut","e","preventDefault","props","onLogout","authReducer","isLogin","history","push","onResetAlert","items","nav","map","route","idx","component","intersectionWith","authorities","roles","isEqual","path","exact","name","mapStateToProps","state","auth","mapDispathToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../actions/authenAction';\r\nimport { resetAlert } from '../../actions/alertAction'\r\nimport _ from 'lodash';\r\nimport {\r\n  AppAside,\r\n  AppBreadcrumb,\r\n  AppFooter,\r\n  AppHeader,\r\n  AppSidebar,\r\n  AppSidebarFooter,\r\n  AppSidebarForm,\r\n  AppSidebarHeader,\r\n  AppSidebarMinimizer,\r\n  AppSidebarNav,\r\n} from '@coreui/react';\r\n// sidebar nav config\r\n// import {NavConfig} from '../../_nav';\r\n// routes config\r\nimport routes from '../../routes';\r\nconst DefaultAside = React.lazy(() => import('./DefaultAside'));\r\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter'));\r\nconst DefaultHeader = React.lazy(() => import('./DefaultHeader'));\r\n\r\nclass DefaultLayout extends Component {\r\n\r\n  loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\r\n\r\n  signOut = async (e) => {\r\n    e.preventDefault()\r\n    await this.props.onLogout();\r\n  }\r\n  componentDidUpdate() {\r\n    if(!this.props.authReducer.isLogin){\r\n      this.props.history.push('/login');\r\n      this.props.onResetAlert();\r\n    }\r\n  }\r\n  render() {\r\n    let items = {items: this.props.authReducer.nav};\r\n    return (\r\n      <div className=\"app\">\r\n        <AppHeader fixed>\r\n          <Suspense  fallback={this.loading()}>\r\n            <DefaultHeader onLogout={e=>this.signOut(e)}/>\r\n          </Suspense>\r\n        </AppHeader>\r\n        <div className=\"app-body\">\r\n          <AppSidebar fixed display=\"lg\">\r\n            <AppSidebarHeader />\r\n            <AppSidebarForm />\r\n            <Suspense>\r\n              <AppSidebarNav navConfig={items} {...this.props} />\r\n            </Suspense>\r\n            <AppSidebarFooter />\r\n            <AppSidebarMinimizer />\r\n          </AppSidebar>\r\n          <main className=\"main\">\r\n            <AppBreadcrumb appRoutes={routes}/>\r\n            <Container fluid>\r\n              <Suspense fallback={this.loading()}>\r\n                <Switch>\r\n                  {\r\n                    routes.map((route, idx) => {\r\n                      return (route.component && _.intersectionWith(this.props.authReducer.authorities, route.roles, _.isEqual)) ? (\r\n                        <Route\r\n                          key={idx}\r\n                          path={route.path}\r\n                          exact={route.exact}\r\n                          name={route.name}\r\n                          render={props => (\r\n                            <route.component {...props} />\r\n                          )} />\r\n                      ) : (null);\r\n                  })}\r\n                  <Redirect from=\"/\" to=\"/dashboard\" />\r\n                </Switch>\r\n              </Suspense>\r\n            </Container>\r\n          </main>\r\n          <AppAside fixed>\r\n            <Suspense fallback={this.loading()}>\r\n              <DefaultAside />\r\n            </Suspense>\r\n          </AppAside>\r\n        </div>\r\n        <AppFooter>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultFooter />\r\n          </Suspense>\r\n        </AppFooter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authReducer : state.auth\r\n  }\r\n}\r\nconst mapDispathToProps = (dispatch) => {\r\n  return {\r\n    onLogout: () => {\r\n      return dispatch(logout());\r\n    },\r\n    onResetAlert: () => {\r\n      return dispatch(resetAlert());\r\n    }\r\n  }\r\n}\r\nexport default connect(mapStateToProps,mapDispathToProps)(DefaultLayout);\r\n"]},"metadata":{},"sourceType":"module"}