{"ast":null,"code":"import _defineProperty from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\src\\\\views\\\\Bill\\\\Accept\\\\Accept.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nimport { Table, Button, Modal, Form, Switch } from \"antd\";\nimport { getBillRequest, getDetail, accept, cancel } from \"../../../actions/acceptAction\";\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nvar Accept =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Accept, _Component);\n\n  function Accept(props) {\n    var _this;\n\n    _classCallCheck(this, Accept);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Accept).call(this, props));\n\n    _this.showDetail =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(text, record) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.setState({\n                  flgLoadingShowDetail: !_this.state.flgLoadingShowDetail\n                });\n\n              case 2:\n                _context.next = 4;\n                return _this.props.onGetDetail(record.id);\n\n              case 4:\n                _context.next = 6;\n                return _this.setState({\n                  billRequestId: record.id,\n                  flgLoadingShowDetail: !_this.state.flgLoadingShowDetail\n                });\n\n              case 6:\n                _this.showModal();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleCancel =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                visible: false\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.handleOk =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this.setState({\n                loading: true\n              });\n\n            case 2:\n              _context3.next = 4;\n              return _this.props.onAccept(_this.state.billRequestId);\n\n            case 4:\n              _this.setState({\n                loading: false,\n                visible: false\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    _this.showModal = function () {\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.handleToggle = function (prop) {\n      return function (enable) {\n        _this.setState(_defineProperty({}, prop, enable));\n      };\n    };\n\n    _this.handleSearch =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      var condition;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return {\n                isSeen: _this.state.isSeen,\n                isReceive: _this.state.isReceive,\n                isAccept: _this.state.isAccept,\n                isDone: _this.state.isDone,\n                isCancel: _this.state.isCancel\n              };\n\n            case 2:\n              condition = _context4.sent;\n              _context4.next = 5;\n              return _this.props.onGetBillRequest(_this.props.authenticationReducer.branch, condition);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n    _this.state = {\n      loading: false,\n      visible: false,\n      billRequestId: '',\n      isSeen: false,\n      isReceive: false,\n      isAccept: false,\n      isDone: false,\n      flgLoadingShowDetail: false,\n      isCancel: false\n    };\n    return _this;\n  }\n\n  _createClass(Accept, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var condition;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return {\n                  isSeen: this.state.isSeen,\n                  isReceive: this.state.isReceive,\n                  isAccept: this.state.isAccept,\n                  isDone: this.state.isDone\n                };\n\n              case 2:\n                condition = _context5.sent;\n                _context5.next = 5;\n                return this.props.onGetBillRequest(this.props.authenticationReducer.branch, condition);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$acceptRed = this.props.acceptReducer,\n          billsRequest = _this$props$acceptRed.billsRequest,\n          detailRequest = _this$props$acceptRed.detailRequest;\n      var _this$state = this.state,\n          visible = _this$state.visible,\n          loading = _this$state.loading,\n          isSeen = _this$state.isSeen,\n          flgLoadingShowDetail = _this$state.flgLoadingShowDetail,\n          isReceive = _this$state.isReceive,\n          isAccept = _this$state.isAccept,\n          isDone = _this$state.isDone,\n          isCancel = _this$state.isCancel;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"X\\xE1c Nh\\u1EADn Y\\xEAu C\\u1EA7u\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form, {\n        layout: 'inline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        label: 'Đã xem',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        checked: isSeen,\n        onChange: this.handleToggle('isSeen'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: 'Đã Xác Nhận',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        checked: isAccept,\n        onChange: this.handleToggle('isAccept'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: 'Đã Nhận',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        checked: isReceive,\n        onChange: this.handleToggle('isReceive'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: 'Đã Hoàn Tất',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        checked: isDone,\n        onChange: this.handleToggle('isDone'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: 'Đã Hủy',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        checked: isCancel,\n        onChange: this.handleToggle('isCancel'),\n        type: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(Button, {\n        htmlType: 'button',\n        onClick: this.handleSearch,\n        type: \"primary\",\n        icon: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"T\\xECm\")), React.createElement(Table, {\n        rowKey: \"id\",\n        bordered: true,\n        dataSource: billsRequest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Table.Column, {\n        title: 'Mã Yêu Cầu',\n        dataIndex: 'id',\n        key: 'id',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Chi Nhánh Yêu Cầu',\n        dataIndex: 'branch',\n        key: 'branch',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Ngày Yêu Cầu',\n        dataIndex: 'dateRequested',\n        key: 'dateRequested',\n        render: function render(text) {\n          return React.createElement(Moment, {\n            format: \"DD/MM/YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, text);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Ghi Chú Yêu Cầu',\n        dataIndex: 'noteRequest',\n        key: 'noteRequest',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Hành Động',\n        dataIndex: 'operation',\n        key: 'operation',\n        render: function render(text, record) {\n          return billsRequest.length > 0 ? React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, React.createElement(Button, {\n            htmlType: \"button\",\n            type: \"primary\",\n            icon: 'info-circle',\n            onClick: function onClick() {\n              return _this2.showDetail(text, record);\n            },\n            loading: flgLoadingShowDetail,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          })) : null;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })))), React.createElement(Modal, {\n        visible: visible,\n        title: \"Chi ti\\u1EBFt Phi\\u1EBFu Y\\xEAu C\\u1EA7u\",\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        footer: [React.createElement(Button, {\n          htmlType: 'button',\n          key: \"back\",\n          onClick: this.handleCancel,\n          icon: 'close',\n          type: \"danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"H\\u1EE7y\"), React.createElement(Button, {\n          htmlType: 'button',\n          key: \"submit\",\n          type: \"primary\",\n          loading: loading,\n          onClick: this.handleOk,\n          icon: 'check',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"X\\xE1c Nh\\u1EADn\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Table, {\n        rowKey: \"product\",\n        bordered: true,\n        dataSource: detailRequest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Table.Column, {\n        title: 'Tên Sản Phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Số lượng',\n        dataIndex: 'amount',\n        key: 'amount',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(Table.Column, {\n        title: 'Đơn vị',\n        dataIndex: 'unit',\n        key: 'unit',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Accept;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    authenticationReducer: state.auth,\n    acceptReducer: state.acceptReducer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onGetBillRequest: function onGetBillRequest(branch, condition) {\n      return dispatch(getBillRequest(branch, condition));\n    },\n    onGetDetail: function onGetDetail(id) {\n      return dispatch(getDetail(id));\n    },\n    onAccept: function onAccept(id) {\n      return dispatch(accept(id));\n    },\n    onCancel: function onCancel(id) {\n      return dispatch(cancel(id));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Accept);","map":{"version":3,"sources":["D:\\LV\\qlt\\qlt_web\\src\\views\\Bill\\Accept\\Accept.js"],"names":["React","Component","connect","Card","CardHeader","CardBody","Table","Button","Modal","Form","Switch","getBillRequest","getDetail","accept","cancel","Moment","Accept","props","showDetail","text","record","setState","flgLoadingShowDetail","state","onGetDetail","id","billRequestId","showModal","handleCancel","visible","handleOk","loading","onAccept","handleToggle","prop","enable","handleSearch","isSeen","isReceive","isAccept","isDone","isCancel","condition","onGetBillRequest","authenticationReducer","branch","acceptReducer","billsRequest","detailRequest","length","mapStateToProps","auth","mapDispatchToProps","dispatch","onCancel"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Card, CardHeader, CardBody} from \"reactstrap\";\nimport {Table, Button, Modal, Form, Switch} from \"antd\";\nimport {getBillRequest, getDetail, accept, cancel} from \"../../../actions/acceptAction\";\nimport Moment from 'react-moment'\nimport 'moment-timezone'\n\nclass Accept extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      visible: false,\n      billRequestId: '',\n      isSeen: false,\n      isReceive: false,\n      isAccept: false,\n      isDone: false,\n      flgLoadingShowDetail: false,\n      isCancel: false\n    }\n  }\n\n  async componentWillMount() {\n    const condition = await {\n      isSeen: this.state.isSeen,\n      isReceive: this.state.isReceive,\n      isAccept: this.state.isAccept,\n      isDone: this.state.isDone,\n    };\n    await this.props.onGetBillRequest(this.props.authenticationReducer.branch, condition);\n  }\n\n  showDetail = async (text, record) => {\n    await this.setState({flgLoadingShowDetail: !this.state.flgLoadingShowDetail});\n    await this.props.onGetDetail(record.id);\n    await this.setState({billRequestId: record.id, flgLoadingShowDetail: !this.state.flgLoadingShowDetail});\n    this.showModal();\n  }\n\n  handleCancel = async () => {\n\n    this.setState({visible: false});\n  }\n  handleOk = async () => {\n    await this.setState({loading: true});\n    await this.props.onAccept(this.state.billRequestId);\n    this.setState({loading: false, visible: false});\n  }\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  }\n  handleToggle = prop => (enable) => {\n    this.setState({[prop]: enable});\n  }\n  handleSearch = async () => {\n    const condition = await {\n      isSeen: this.state.isSeen,\n      isReceive: this.state.isReceive,\n      isAccept: this.state.isAccept,\n      isDone: this.state.isDone,\n      isCancel: this.state.isCancel\n    };\n    await this.props.onGetBillRequest(this.props.authenticationReducer.branch, condition);\n  }\n\n  render() {\n    const {billsRequest, detailRequest} = this.props.acceptReducer;\n    const {\n      visible, loading, isSeen, flgLoadingShowDetail, isReceive,\n      isAccept, isDone, isCancel\n    } = this.state;\n    return (\n      <div>\n        <Card>\n          <CardHeader>\n            <strong>Xác Nhận Yêu Cầu</strong>\n          </CardHeader>\n          <CardBody>\n            <Form layout={'inline'}>\n              <Form.Item label={'Đã xem'}>\n                <Switch checked={isSeen} onChange={this.handleToggle('isSeen')}/>\n              </Form.Item>\n              <Form.Item label={'Đã Xác Nhận'}>\n                <Switch checked={isAccept} onChange={this.handleToggle('isAccept')}/>\n              </Form.Item>\n              <Form.Item label={'Đã Nhận'}>\n                <Switch checked={isReceive} onChange={this.handleToggle('isReceive')}/>\n              </Form.Item>\n              <Form.Item label={'Đã Hoàn Tất'}>\n                <Switch checked={isDone} onChange={this.handleToggle('isDone')}/>\n              </Form.Item>\n              <Form.Item label={'Đã Hủy'}>\n                <Switch checked={isCancel} onChange={this.handleToggle('isCancel')} type=\"danger\"/>\n              </Form.Item>\n              <Button htmlType={'button'} onClick={this.handleSearch} type=\"primary\" icon=\"search\">Tìm</Button>\n            </Form>\n            <Table\n              rowKey='id'\n              bordered={true}\n              dataSource={billsRequest}\n            >\n              <Table.Column\n                title={'Mã Yêu Cầu'}\n                dataIndex={'id'}\n                key={'id'}/>\n              <Table.Column\n                title={'Chi Nhánh Yêu Cầu'}\n                dataIndex={'branch'}\n                key={'branch'}/>\n              <Table.Column\n                title={'Ngày Yêu Cầu'}\n                dataIndex={'dateRequested'}\n                key={'dateRequested'}\n                render={(text) => (\n                  (<Moment format=\"DD/MM/YYYY\">{text}</Moment>)\n                )}\n              />\n              <Table.Column\n                title={'Ghi Chú Yêu Cầu'}\n                dataIndex={'noteRequest'}\n                key={'noteRequest'}\n              />\n              <Table.Column\n                title={'Hành Động'}\n                dataIndex={'operation'}\n                key={'operation'}\n                render={(text, record) => (\n                  billsRequest.length > 0 ? (\n                    <span>\n                      <Button htmlType='button' type=\"primary\" icon={'info-circle'}\n                              onClick={() => this.showDetail(text, record)} loading={flgLoadingShowDetail}/>\n                    </span>\n                  ) : null\n                )}\n              />\n            </Table>\n          </CardBody>\n        </Card>\n        <Modal\n          visible={visible}\n          title=\"Chi tiết Phiếu Yêu Cầu\"\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          footer={[\n            <Button htmlType={'button'} key=\"back\" onClick={this.handleCancel} icon={'close'} type=\"danger\">Hủy</Button>,\n            <Button htmlType={'button'} key=\"submit\" type=\"primary\" loading={loading} onClick={this.handleOk}\n                    icon={'check'}>\n              Xác Nhận\n            </Button>,\n          ]}\n        >\n          <Table\n            rowKey='product'\n            bordered={true}\n            dataSource={detailRequest}\n          >\n            <Table.Column\n              title={'Tên Sản Phẩm'}\n              dataIndex={'product'}\n              key={'product'}/>\n            <Table.Column\n              title={'Số lượng'}\n              dataIndex={'amount'}\n              key={'amount'}/>\n            <Table.Column\n              title={'Đơn vị'}\n              dataIndex={'unit'}\n              key={'unit'}/>\n          </Table>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    authenticationReducer: state.auth,\n    acceptReducer: state.acceptReducer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onGetBillRequest: (branch, condition) => {\n      return dispatch(getBillRequest(branch, condition));\n    },\n    onGetDetail: (id) => {\n      return dispatch(getDetail(id));\n    },\n    onAccept: (id) => {\n      return dispatch(accept(id));\n    },\n    onCancel: (id) => {\n      return dispatch(cancel(id));\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Accept);\n"]},"metadata":{},"sourceType":"module"}