{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { API, ACTION_TYPES } from '../constants';\nimport axios from 'axios';\nimport headerConfig, { headerForGet } from '../helpers/headerHelper';\nimport { showAlertFail, showAlertAndReset } from './alertAction.js';\nimport { setPagination } from '../actions/paginationAction';\nexport var save = function save(branch) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(API.BRANCH.SAVE, branch, headerConfig);\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return dispatch(setPagination(res.data));\n\n              case 6:\n                _context.next = 8;\n                return dispatch(selectSuccess(res.data.content));\n\n              case 8:\n                _context.next = 10;\n                return dispatch(showAlertAndReset());\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                dispatch(showAlertFail(_context.t0));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var select = function select(condition) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.post(API.BRANCH.SELECT, condition, headerConfig);\n\n              case 3:\n                res = _context2.sent;\n                dispatch(setPagination(res.data));\n                dispatch(selectSuccess(res.data.content));\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispatch(showAlertFail(_context2.t0));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 8]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var selectSuccess = function selectSuccess(data) {\n  return {\n    type: ACTION_TYPES.BRANCH.GET_SUCCESS,\n    payload: data\n  };\n};\nexport var setBranch = function setBranch(data) {\n  return {\n    type: ACTION_TYPES.BRANCH.SET_BRANCH,\n    payload: data\n  };\n};\nexport var resetAll = function resetAll() {\n  return {\n    type: ACTION_TYPES.BRANCH.RESET_ALL\n  };\n};\nexport var resetBranch = function resetBranch() {\n  return {\n    type: ACTION_TYPES.BRANCH.RESET_BRANCH\n  };\n};\nexport var deleteBranch = function deleteBranch(keys) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return axios.post(API.BRANCH.DELETE, keys, headerConfig);\n\n              case 3:\n                dispatch(showAlertAndReset());\n                _context3.next = 9;\n                break;\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](0);\n                dispatch(showAlertFail(_context3.t0));\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 6]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var selectAllShop = function selectAllShop() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var header, res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return headerForGet();\n\n              case 3:\n                header = _context4.sent;\n                _context4.next = 6;\n                return axios.get(API.SHOP.SELECT_ALL, header);\n\n              case 6:\n                res = _context4.sent;\n                dispatch(getAllShopSuccess(res.data));\n                _context4.next = 13;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](0);\n                dispatch(showAlertFail(_context4.t0));\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 10]]);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAllShopSuccess = function getAllShopSuccess(data) {\n  return {\n    type: ACTION_TYPES.BRANCH.GET_ALL_SHOP,\n    payload: data\n  };\n};\nexport var getBranchOfDirector = function getBranchOfDirector(idDirector) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return axios.post(API.BRANCH.SELECT_BRANCH_OF_DIRECTOR, idDirector, headerConfig);\n\n              case 3:\n                res = _context5.sent;\n                dispatch(branchForSelection(res.data));\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                dispatch(showAlertFail(_context5.t0));\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var branchForSelection = function branchForSelection(data) {\n  var selection = data.map(function (b) {\n    return {\n      value: b.id,\n      label: b.name\n    };\n  });\n  return {\n    type: ACTION_TYPES.BRANCH.BRANCH_FOR_SELECTION,\n    payload: selection\n  };\n};","map":{"version":3,"sources":["D:\\LV\\qlt\\QLThuoc\\src\\main\\resources\\qlt_web\\src\\actions\\branchAction.js"],"names":["API","ACTION_TYPES","axios","headerConfig","headerForGet","showAlertFail","showAlertAndReset","setPagination","save","branch","dispatch","post","BRANCH","SAVE","res","data","selectSuccess","content","select","condition","SELECT","type","GET_SUCCESS","payload","setBranch","SET_BRANCH","resetAll","RESET_ALL","resetBranch","RESET_BRANCH","deleteBranch","keys","DELETE","selectAllShop","header","get","SHOP","SELECT_ALL","getAllShopSuccess","GET_ALL_SHOP","getBranchOfDirector","idDirector","SELECT_BRANCH_OF_DIRECTOR","branchForSelection","selection","map","b","value","id","label","name","BRANCH_FOR_SELECTION"],"mappings":"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","sourcesContent":["import { API, ACTION_TYPES } from '../constants'\nimport axios from 'axios'\nimport headerConfig, { headerForGet } from '../helpers/headerHelper'\nimport {showAlertFail, showAlertAndReset} from './alertAction.js'\nimport { setPagination } from '../actions/paginationAction'\n\nexport const save = (branch) => {\n  return async (dispatch) => {\n    try {\n      const res = await axios.post(API.BRANCH.SAVE, branch ,headerConfig);\n      await dispatch(setPagination(res.data));\n      await dispatch(selectSuccess(res.data.content));\n      await dispatch(showAlertAndReset());\n    }\n    catch (err) {\n      dispatch(showAlertFail(err));\n    }\n  }\n}\n\nexport const select = (condition) => {\n  return async (dispatch) => {\n    try {\n      const res = await axios.post(API.BRANCH.SELECT, condition, headerConfig);\n      dispatch(setPagination(res.data));\n      dispatch(selectSuccess(res.data.content));\n    }\n    catch (err) {\n      dispatch(showAlertFail(err));\n    }\n  }\n}\n\nexport const selectSuccess = (data) => {\n  return {\n    type: ACTION_TYPES.BRANCH.GET_SUCCESS,\n    payload: data\n  }\n}\n\nexport const setBranch = (data) => {\n  return {\n    type: ACTION_TYPES.BRANCH.SET_BRANCH,\n    payload: data\n  }\n}\n\nexport const resetAll = () => {\n  return { type: ACTION_TYPES.BRANCH.RESET_ALL }\n}\n\nexport const resetBranch = () => {\n  return { type: ACTION_TYPES.BRANCH.RESET_BRANCH }\n}\n\nexport const deleteBranch = (keys) => {\n  return async (dispatch) => {\n    try {\n      await axios.post(API.BRANCH.DELETE, keys ,headerConfig);\n      dispatch(showAlertAndReset());\n    } catch (err) {\n      dispatch(showAlertFail(err));\n    }\n  }\n}\nexport const selectAllShop = () => {\n  return async (dispatch) => {\n    try {\n      const header = await headerForGet();\n      const res = await axios.get(API.SHOP.SELECT_ALL, header);\n      dispatch(getAllShopSuccess(res.data));\n    } catch (err) {\n      dispatch(showAlertFail(err));\n    }\n  }\n}\nexport const getAllShopSuccess = (data) => ({\n  type: ACTION_TYPES.BRANCH.GET_ALL_SHOP,\n  payload: data\n})\nexport const getBranchOfDirector = (idDirector) => {\n  return async (dispatch) => {\n    try {\n      const res = await axios.post(API.BRANCH.SELECT_BRANCH_OF_DIRECTOR, idDirector, headerConfig); \n      dispatch(branchForSelection(res.data));\n    } catch(err) {\n      dispatch(showAlertFail(err));\n    }\n  }\n}\n\nexport const branchForSelection = (data) => {\n  let selection = data.map(b => {\n    return {value: b.id, label: b.name}\n  });\n  return {\n    type: ACTION_TYPES.BRANCH.BRANCH_FOR_SELECTION,\n    payload: selection\n  }\n}\n"]},"metadata":{},"sourceType":"module"}