{"ast":null,"code":"import _defineProperty from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\QLThuoc\\\\src\\\\main\\\\resources\\\\qlt_web\\\\src\\\\views\\\\Import\\\\CreateBill\\\\TableImport.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Table } from 'antd';\nimport Select from 'react-select';\nimport { getSpecUnit, save, resetSaveSuccess } from '../../../actions/importProductAction';\nimport DatePicker from 'react-datepicker';\nimport AlertCommon from '../../Common/AlertCommon';\nimport { resetAlert } from '../../../actions/alertAction';\nimport { Button, Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nvar columns = [{\n  title: 'Tên Sản Phẩm',\n  dataIndex: 'product',\n  key: 'product'\n}, {\n  title: 'Số Lượng',\n  dataIndex: 'amount',\n  key: 'amount'\n}, {\n  title: 'Đơn Vị',\n  dataIndex: 'specUnit',\n  key: 'specUnit'\n}, {\n  title: 'Đơn Đơn giá',\n  dataIndex: 'price',\n  key: 'price'\n}];\nexport var TableBuy =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableBuy, _Component);\n\n  function TableBuy(props) {\n    var _this;\n\n    _classCallCheck(this, TableBuy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableBuy).call(this, props));\n\n    _this.onAddproduct = function (e) {\n      e.preventDefault();\n\n      _this.toggle();\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.handleSeletion = function (e, selection) {\n      switch (selection.name) {\n        case 'product':\n          _this.props.onGetSpecUnit(e.value);\n\n          _this.setState({\n            product: e\n          });\n\n          break;\n\n        case 'specUnit':\n          _this.setState({\n            specUnit: e\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.changeHandler = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.addImport = function (e) {\n      e.preventDefault();\n      var data = _this.state.data;\n      var dataView = _this.state.dataView;\n      data.push({\n        product: _this.state.product,\n        specUnit: _this.state.specUnit,\n        amount: _this.state.amount,\n        price: _this.state.price\n      });\n      dataView.push({\n        product: _this.state.product.label,\n        specUnit: _this.state.specUnit.label,\n        amount: _this.state.amount,\n        price: _this.state.price\n      });\n\n      _this.setState({\n        data: data,\n        dataView: dataView\n      });\n    };\n\n    _this.addImportAndExit = function (e) {\n      _this.addImport(e);\n\n      _this.toggle();\n    };\n\n    _this.handleChangeDate = function (e) {};\n\n    _this.onSave = function (e) {\n      e.preventDefault();\n\n      _this.props.onSave(_this.state.data, _this.props.authenReducer.branch);\n    };\n\n    _this.state = {\n      data: [],\n      dataView: [],\n      modal: false,\n      product: {},\n      specUnit: {},\n      amount: 0,\n      price: 0,\n      createBillDate: new Date()\n    };\n    return _this;\n  }\n\n  _createClass(TableBuy, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.importProductReducer.saveSuccess) {\n        this.setState({\n          data: [],\n          dataView: []\n        });\n        this.props.onResetSaveSuccess();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.onResetAlert();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"4\",\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"dateCreated\",\n        className: \"pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Ng\\xE0y Nh\\u1EADp\"), React.createElement(DatePicker, {\n        className: \"form-control\",\n        selected: this.state.createBillDate,\n        dateFormat: \"dd/MM/yyyy\",\n        onChange: this.handleChangeDate.bind(this),\n        name: \"dateCreated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        xs: \"4\",\n        md: \"4\",\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(AlertCommon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: \"4\",\n        md: \"4\",\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onAddproduct.bind(this),\n        size: \"sm\",\n        color: \"primary\",\n        className: \"btn-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Th\\xEAm S\\u1EA3n Ph\\u1EA9m\")), ' ', React.createElement(Button, {\n        size: \"sm\",\n        color: \"success\",\n        onClick: this.onSave.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), ' ', \"L\\u01B0u\"))), React.createElement(Table, {\n        dataSource: this.state.dataView,\n        columns: columns,\n        rowKey: \"product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggle.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggle.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Th\\xEAm S\\u1EA3n Ph\\u1EA9m\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"S\\u1EA3n Ph\\u1EA9m\"), React.createElement(Select, {\n        options: this.props.importProductReducer.products,\n        onChange: this.handleSeletion.bind(this),\n        isMulti: false,\n        name: \"product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"\\u0110\\u01A1n V\\u1ECB\"), React.createElement(Select, {\n        options: this.props.importProductReducer.specUnitSelection,\n        onChange: this.handleSeletion.bind(this),\n        isMulti: false,\n        name: \"specUnit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"S\\u1ED1 L\\u01B0\\u1EE3ng\"), React.createElement(Input, {\n        name: \"amount\",\n        onChange: this.changeHandler.bind(this),\n        value: this.state.amount,\n        type: \"number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"\\u0110\\u01A1n Gi\\xE1\"), React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"number\",\n        id: \"price\",\n        name: \"price\",\n        onChange: this.changeHandler.bind(this),\n        value: this.state.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"VN \\u0110\\u1ED3ng\"))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.addImport.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"L\\u01B0u v\\xE0 Ti\\u1EBFp T\\u1EE5c\"), ' ', React.createElement(Button, {\n        color: \"warning\",\n        onClick: this.addImportAndExit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"L\\u01B0u v\\xE0 Tho\\xE1t\"), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggle.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Tho\\xE1t\"))));\n    }\n  }]);\n\n  return TableBuy;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    importProductReducer: state.importProductReducer,\n    authenReducer: state.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onGetSpecUnit: function onGetSpecUnit(id) {\n      return dispatch(getSpecUnit(id));\n    },\n    onSave: function onSave(data, branch) {\n      return dispatch(save(data, branch));\n    },\n    onResetSaveSuccess: function onResetSaveSuccess() {\n      return dispatch(resetSaveSuccess());\n    },\n    onResetAlert: function onResetAlert() {\n      return dispatch(resetAlert());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TableBuy);","map":{"version":3,"sources":["D:\\LV\\qlt\\QLThuoc\\src\\main\\resources\\qlt_web\\src\\views\\Import\\CreateBill\\TableImport.js"],"names":["React","Component","connect","Table","Select","getSpecUnit","save","resetSaveSuccess","DatePicker","AlertCommon","resetAlert","Button","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","FormGroup","Label","Input","InputGroup","InputGroupAddon","InputGroupText","columns","title","dataIndex","key","TableBuy","props","onAddproduct","e","preventDefault","toggle","setState","modal","state","handleSeletion","selection","name","onGetSpecUnit","value","product","specUnit","changeHandler","target","addImport","data","dataView","push","amount","price","label","addImportAndExit","handleChangeDate","onSave","authenReducer","branch","createBillDate","Date","importProductReducer","saveSuccess","onResetSaveSuccess","onResetAlert","bind","products","specUnitSelection","mapStateToProps","auth","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {Table} from 'antd'\nimport Select from 'react-select'\nimport {getSpecUnit, save, resetSaveSuccess} from '../../../actions/importProductAction'\nimport DatePicker from 'react-datepicker'\nimport AlertCommon from '../../Common/AlertCommon'\nimport {resetAlert} from '../../../actions/alertAction'\nimport {\n  Button,\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  FormGroup,\n  Label,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n} from 'reactstrap'\n\nconst columns = [{\n  title: 'Tên Sản Phẩm',\n  dataIndex: 'product',\n  key: 'product',\n}, {\n  title: 'Số Lượng',\n  dataIndex: 'amount',\n  key: 'amount',\n}, {\n  title: 'Đơn Vị',\n  dataIndex: 'specUnit',\n  key: 'specUnit',\n}, {\n  title: 'Đơn Đơn giá',\n  dataIndex: 'price',\n  key: 'price'\n}]\n\nexport class TableBuy extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      dataView: [],\n      modal: false,\n      product: {},\n      specUnit: {},\n      amount: 0,\n      price: 0,\n      createBillDate: new Date(),\n    }\n  }\n\n  onAddproduct = (e) => {\n    e.preventDefault();\n    this.toggle();\n  }\n  toggle = () => {\n    this.setState({\n      modal: !this.state.modal,\n    });\n  }\n  handleSeletion = (e, selection) => {\n    switch (selection.name) {\n      case 'product':\n        this.props.onGetSpecUnit(e.value);\n        this.setState({product: e});\n        break;\n\n      case 'specUnit':\n        this.setState({specUnit: e});\n        break;\n\n      default:\n        break;\n    }\n  }\n  changeHandler = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n  addImport = (e) => {\n    e.preventDefault();\n    let data = this.state.data;\n    let dataView = this.state.dataView;\n    data.push({\n      product: this.state.product,\n      specUnit: this.state.specUnit,\n      amount: this.state.amount,\n      price: this.state.price\n    });\n    dataView.push({\n      product: this.state.product.label,\n      specUnit: this.state.specUnit.label,\n      amount: this.state.amount,\n      price: this.state.price\n    });\n    this.setState({data: data, dataView: dataView});\n  }\n  addImportAndExit = (e) => {\n    this.addImport(e);\n    this.toggle();\n  }\n  handleChangeDate = (e) => {\n\n  }\n  onSave = (e) => {\n    e.preventDefault();\n    this.props.onSave(this.state.data, this.props.authenReducer.branch);\n  }\n\n  componentDidUpdate() {\n    if (this.props.importProductReducer.saveSuccess) {\n      this.setState({data: [], dataView: []});\n      this.props.onResetSaveSuccess();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onResetAlert();\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col xs=\"4\" md=\"4\">\n            <FormGroup>\n              <Label htmlFor='dateCreated' className='pr-1'>Ngày Nhập</Label>\n              <DatePicker\n                className=\"form-control\"\n                selected={this.state.createBillDate}\n                dateFormat=\"dd/MM/yyyy\"\n                onChange={this.handleChangeDate.bind(this)}\n                name='dateCreated'/>\n            </FormGroup>\n          </Col>\n          <Col xs=\"4\" md=\"4\" className=\"text-right\">\n            <AlertCommon/>\n          </Col>\n          <Col xs=\"4\" md=\"4\" className=\"text-right\">\n            <Button onClick={this.onAddproduct.bind(this)} size=\"sm\" color=\"primary\" className=\"btn-brand\"><i\n              className=\"fas fa-plus\"></i><span>Thêm Sản Phẩm</span></Button>{' '}\n            <Button size=\"sm\" color=\"success\" onClick={this.onSave.bind(this)}><i\n              className=\"fa fa-dot-circle-o\"></i>{' '}Lưu</Button>\n          </Col>\n        </Row>\n        <Table dataSource={this.state.dataView} columns={columns} rowKey='product'/>\n        <Modal isOpen={this.state.modal} toggle={this.toggle.bind(this)}>\n          <ModalHeader toggle={this.toggle.bind(this)}>Thêm Sản Phẩm</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Label htmlFor=''>Sản Phẩm</Label>\n              <Select\n                options={this.props.importProductReducer.products}\n                onChange={this.handleSeletion.bind(this)}\n                isMulti={false}\n                name=\"product\"\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label htmlFor=''>Đơn Vị</Label>\n              <Select\n                options={this.props.importProductReducer.specUnitSelection}\n                onChange={this.handleSeletion.bind(this)}\n                isMulti={false}\n                name=\"specUnit\"\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label htmlFor=''>Số Lượng</Label>\n              <Input name='amount' onChange={this.changeHandler.bind(this)} value={this.state.amount} type=\"number\"/>\n            </FormGroup>\n            <FormGroup>\n              <Label htmlFor='price'>Đơn Giá</Label>\n              <InputGroup>\n                <Input\n                  type=\"number\"\n                  id=\"price\"\n                  name=\"price\"\n                  onChange={this.changeHandler.bind(this)}\n                  value={this.state.price}/>\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>VN Đồng</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addImport.bind(this)}>Lưu và Tiếp Tục</Button>{' '}\n            <Button color=\"warning\" onClick={this.addImportAndExit.bind(this)}>Lưu và Thoát</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle.bind(this)}>Thoát</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  importProductReducer: state.importProductReducer,\n  authenReducer: state.auth,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onGetSpecUnit: (id) => {\n    return dispatch(getSpecUnit(id))\n  },\n  onSave: (data, branch) => {\n    return dispatch(save(data, branch));\n  },\n  onResetSaveSuccess: () => {\n    return dispatch(resetSaveSuccess());\n  },\n  onResetAlert: () => {\n    return dispatch(resetAlert());\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TableBuy)\n"]},"metadata":{},"sourceType":"module"}