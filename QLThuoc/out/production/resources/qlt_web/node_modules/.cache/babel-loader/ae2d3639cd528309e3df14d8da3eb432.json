{"ast":null,"code":"import _defineProperty from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LV\\\\qlt\\\\qlt_web\\\\src\\\\views\\\\Product\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport 'filepond/dist/filepond.min.css';\nimport { save, init } from '../../actions/productAction';\nimport { FilePond, registerPlugin } from \"react-filepond\";\nimport \"filepond/dist/filepond.min.css\";\nimport FilePondPluginImageExifOrientation from \"filepond-plugin-image-exif-orientation\";\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview\";\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css\";\nimport AlertCommon from '../Common/AlertCommon';\nimport Select from 'react-select';\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter, FormGroup, Label, Form, Input, Button } from 'reactstrap';\nregisterPlugin(FilePondPluginImageExifOrientation, FilePondPluginImagePreview);\nexport var index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(index, _Component);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(index).call(this, props));\n\n    _this.changeHandler = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var model = {\n        productName: _this.state.productName,\n        virtue: _this.state.virtue,\n        specUnits: _this.state.specUnits,\n        unit: _this.state.unit,\n        producer: _this.state.producer\n      };\n      var data = new FormData();\n      data.append('file', _this.state.files[0]);\n      data.append('model', JSON.stringify(model));\n\n      _this.props.onSave(data);\n    };\n\n    _this.onReset = function (e) {\n      e.preventDefault();\n    };\n\n    _this.handleSeletion = function (e, selection) {\n      switch (selection.name) {\n        case \"specUnits\":\n          _this.setState({\n            specUnits: e\n          });\n\n          break;\n\n        case \"unit\":\n          _this.setState({\n            unit: e\n          });\n\n          break;\n\n        case \"producer\":\n          _this.setState({\n            producer: e\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.state = {\n      productName: '',\n      virtue: '',\n      image: '',\n      active: false,\n      imageSrc: '',\n      specUnits: [],\n      unit: {},\n      producer: {}\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"onDrop\",\n    value: function onDrop(picture) {\n      this.setState({\n        pictures: this.state.pictures.concat(picture)\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.onInit();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), \" T\\u1EA1o \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"S\\u1EA3n Ph\\u1EA9m\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(AlertCommon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Form, {\n        onSubmit: this.onSubmit.bind(this),\n        onReset: this.onReset.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"hidden\",\n        name: \"id\",\n        onChange: this.changeHandler.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"productName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"T\\xEAn Thu\\u1ED1c\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"productName\",\n        placeholder: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\",\n        required: true,\n        onChange: this.changeHandler.bind(this),\n        value: this.state.productName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"virtue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"C\\xF4ng D\\u1EE5ng\"), React.createElement(Input, {\n        type: \"textarea\",\n        name: \"virtue\",\n        placeholder: \"C\\xF4ng D\\u1EE5ng\",\n        required: true,\n        onChange: this.changeHandler.bind(this),\n        value: this.state.virtue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"unit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"\\u0110\\u01A1n v\\u1ECB chu\\u1EA9n\"), React.createElement(Select, {\n        options: this.props.productReducer.units,\n        onChange: this.handleSeletion.bind(this),\n        isMulti: false,\n        name: \"unit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"specUnit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Quy \\u0110\\u1ECBnh \\u0110\\u01A1n V\\u1ECB\"), React.createElement(Select, {\n        options: this.props.productReducer.specUnits,\n        onChange: this.handleSeletion.bind(this),\n        isMulti: true,\n        name: \"specUnit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"producer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Nh\\xE0 s\\u1EA3n xu\\u1EA5t\"), React.createElement(Select, {\n        options: this.props.productReducer.producers,\n        onChange: this.handleSeletion.bind(this),\n        isMulti: false,\n        name: \"producer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"\\u1EA2nh\"), React.createElement(FilePond, {\n        ref: function ref(_ref) {\n          return _this2.pond = _ref;\n        },\n        files: this.state.files,\n        allowMultiple: false,\n        onupdatefiles: function onupdatefiles(fileItems) {\n          _this2.setState({\n            files: fileItems.map(function (fileItem) {\n              return fileItem.file;\n            })\n          });\n        },\n        labelIdle: 'Kéo thả hoặc nhấp chọn <span class=\"filepond--label-action\"> Mở </span>',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), \" L\\u01B0u\"), \" \", ' ', React.createElement(Button, {\n        type: \"reset\",\n        size: \"sm\",\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), \" L\\xE0m R\\u1ED7ng\"))))), React.createElement(CardFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return index;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    productReducer: state.productReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispath) {\n  return {\n    onSave: function onSave(form) {\n      return dispath(save(form));\n    },\n    onInit: function onInit() {\n      return dispath(init());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(index);","map":{"version":3,"sources":["D:\\LV\\qlt\\qlt_web\\src\\views\\Product\\index.js"],"names":["React","Component","connect","save","init","FilePond","registerPlugin","FilePondPluginImageExifOrientation","FilePondPluginImagePreview","AlertCommon","Select","Row","Col","Card","CardHeader","CardBody","CardFooter","FormGroup","Label","Form","Input","Button","index","props","changeHandler","e","name","target","value","setState","onSubmit","preventDefault","model","productName","state","virtue","specUnits","unit","producer","data","FormData","append","files","JSON","stringify","onSave","onReset","handleSeletion","selection","image","active","imageSrc","picture","pictures","concat","onInit","bind","productReducer","units","producers","ref","pond","fileItems","map","fileItem","file","mapStateToProps","mapDispatchToProps","dispath","form"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport 'filepond/dist/filepond.min.css'\r\nimport { save, init } from '../../actions/productAction'\r\nimport { FilePond, registerPlugin } from \"react-filepond\";\r\nimport \"filepond/dist/filepond.min.css\";\r\nimport FilePondPluginImageExifOrientation from \"filepond-plugin-image-exif-orientation\";\r\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview\";\r\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css\"\r\nimport AlertCommon from '../Common/AlertCommon'\r\nimport Select from 'react-select'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  FormGroup,\r\n  Label,\r\n  Form,\r\n  Input,\r\n  Button  } from 'reactstrap'\r\nregisterPlugin(FilePondPluginImageExifOrientation, FilePondPluginImagePreview);\r\nexport class index extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      productName: '',\r\n      virtue: '',\r\n      image:'',\r\n      active: false,\r\n      imageSrc: '',\r\n      specUnits: [],\r\n      unit:{},\r\n      producer:{}\r\n    }\r\n  }\r\n  changeHandler = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const model = {\r\n      productName: this.state.productName,\r\n      virtue: this.state.virtue,\r\n      specUnits: this.state.specUnits,\r\n      unit: this.state.unit,\r\n      producer: this.state.producer\r\n    }\r\n    const data = new FormData();\r\n    data.append('file', this.state.files[0]);\r\n    data.append('model',JSON.stringify(model));\r\n    this.props.onSave(data);\r\n  }\r\n  onReset = (e) => {\r\n    e.preventDefault();\r\n  }\r\n  onDrop(picture) {\r\n    this.setState({\r\n        pictures: this.state.pictures.concat(picture),\r\n    });\r\n  }\r\n  componentWillMount() {\r\n    this.props.onInit();\r\n  }\r\n  handleSeletion = (e, selection) => {\r\n    switch (selection.name) {\r\n      case \"specUnits\":\r\n        this.setState({\r\n          specUnits: e\r\n        })\r\n        break;\r\n      case \"unit\":\r\n        this.setState({\r\n          unit: e\r\n        })\r\n        break;\r\n      case \"producer\":\r\n        this.setState({\r\n          producer: e\r\n        })\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Card>\r\n          <CardHeader>\r\n            <i className=\"fas fa-plus\"></i> Tạo <strong>Sản Phẩm</strong>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Row>\r\n              <Col md='6'>\r\n              <AlertCommon/>\r\n              <Form onSubmit={this.onSubmit.bind(this)} onReset={this.onReset.bind(this)}>\r\n                <Input type='hidden' name='id' onChange= {this.changeHandler.bind(this)}/>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"productName\">Tên Thuốc</Label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"productName\"\r\n                    placeholder=\"Tên sản phẩm\" \r\n                    required\r\n                    onChange={this.changeHandler.bind(this)}\r\n                    value={this.state.productName}/>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"virtue\">Công Dụng</Label>\r\n                  <Input\r\n                    type=\"textarea\"\r\n                    name=\"virtue\"\r\n                    placeholder=\"Công Dụng\" \r\n                    required\r\n                    onChange={this.changeHandler.bind(this)}\r\n                    value={this.state.virtue}/>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"unit\">Đơn vị chuẩn</Label>\r\n                  <Select \r\n                    options={this.props.productReducer.units}\r\n                    onChange={this.handleSeletion.bind(this)}\r\n                    isMulti = {false}\r\n                    name=\"unit\"\r\n                    />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"specUnit\">Quy Định Đơn Vị</Label>\r\n                  <Select \r\n                    options={this.props.productReducer.specUnits}\r\n                    onChange={this.handleSeletion.bind(this)}\r\n                    isMulti = {true}\r\n                    name=\"specUnit\"\r\n                    />\r\n                </FormGroup>\r\n                \r\n                <FormGroup>\r\n                  <Label htmlFor=\"producer\">Nhà sản xuất</Label>\r\n                  <Select \r\n                    options={this.props.productReducer.producers}\r\n                    onChange={this.handleSeletion.bind(this)}\r\n                    isMulti = {false}\r\n                    name=\"producer\"\r\n                    />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label>Ảnh</Label>\r\n                  <FilePond\r\n                    ref={ref => (this.pond = ref)}\r\n                    files={this.state.files}\r\n                    allowMultiple={false}\r\n                    onupdatefiles={fileItems => {\r\n                      this.setState({\r\n                        files: fileItems.map(fileItem => fileItem.file)\r\n                      });\r\n                    }}\r\n                    labelIdle={'Kéo thả hoặc nhấp chọn <span class=\"filepond--label-action\"> Mở </span>'}\r\n                  />\r\n                </FormGroup>\r\n                <Button type=\"submit\" size=\"sm\" color=\"primary\"><i className=\"fa fa-dot-circle-o\"></i> Lưu</Button> {' '}\r\n                <Button type=\"reset\" size=\"sm\" color=\"danger\" ><i className=\"fa fa-ban\"></i> Làm Rỗng</Button>\r\n              </Form>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n          <CardFooter>\r\n          </CardFooter>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  productReducer: state.productReducer\r\n})\r\n\r\nconst mapDispatchToProps = (dispath) => ({\r\n  onSave: (form) => {\r\n    return dispath(save(form));\r\n  },\r\n  onInit: () => {\r\n    return dispath(init());\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(index)\r\n"]},"metadata":{},"sourceType":"module"}